{
  "_format": "hh-sol-artifact-1",
  "contractName": "RateLimiter",
  "sourceName": "src/RateLimiter.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "admin",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AccessControlBadConfirmation",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "neededRole",
          "type": "bytes32"
        }
      ],
      "name": "AccessControlUnauthorizedAccount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "maxDailySpendingUSD",
          "type": "uint256"
        }
      ],
      "name": "DailySpendingLimitUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "LimitReset",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "reason",
          "type": "string"
        }
      ],
      "name": "RateLimitExceeded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "minTimeBetweenTx",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "maxTxPerPeriod",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "period",
          "type": "uint256"
        }
      ],
      "name": "RateLimitUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "previousAdminRole",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "newAdminRole",
          "type": "bytes32"
        }
      ],
      "name": "RoleAdminChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "RoleGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "RoleRevoked",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "DEFAULT_ADMIN_ROLE",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "RATE_ADMIN_ROLE",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "SALE_ROUND_ROLE",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "usdAmount",
          "type": "uint256"
        }
      ],
      "name": "checkAndUpdateLimit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "getRateLimitInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "lastTxTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "txCount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "periodStart",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "dailySpentUSD",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "dailyPeriodStart",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        }
      ],
      "name": "getRoleAdmin",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "grantRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "hasRole",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "maxDailySpendingUSD",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "maxTxPerPeriod",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "minTimeBetweenTx",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "period",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "callerConfirmation",
          "type": "address"
        }
      ],
      "name": "renounceRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "resetLimit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "revokeRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_maxDailySpendingUSD",
          "type": "uint256"
        }
      ],
      "name": "updateDailySpendingLimit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_minTimeBetweenTx",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_maxTxPerPeriod",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_period",
          "type": "uint256"
        }
      ],
      "name": "updateRateLimitConfig",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080346100d657601f610e0038819003918201601f19168301916001600160401b038311848410176100db578084926020946040528339810103126100d657516001600160a01b0381168082036100d657601e600255600a60035562015180600455631dcd650060055515610091578061007b610081926100f1565b5061016f565b50604051610bd090816102108239f35b60405162461bcd60e51b815260206004820152601960248201527f526174654c696d697465723a207a65726f2061646472657373000000000000006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b031660008181527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5602052604081205490919060ff1661016b57818052816020526040822081835260205260408220600160ff198254161790553391600080516020610de08339815191528180a4600190565b5090565b6001600160a01b031660008181527fd1cffbcb8677e3b29c52070b4a0633f7d94697ecef1ed61fbb165c4a58c54bd360205260408120549091907faf977a80e23262c8ff5f86cefbb6a4f6250c151974ee28fb039b0005ddf0d2cd9060ff1661020a57808352826020526040832082845260205260408320600160ff19825416179055600080516020610de0833981519152339380a4600190565b50509056fe6080604081815260048036101561001557600080fd5b600092833560e01c90816301ffc9a71461095f575080630b90fca1146109245780631372380114610905578063248a9ca3146108dc5780632f2ff15d146108b357806336568abe1461086c5780636222f79b1461072a5780638d64007c1461068057806391d148541461063b578063a217fddf14610620578063b3ad5c9c1461056e57838163ccc51804146104f957508063d547741f146104bb578063dfe444b014610480578063e35c9e241461014d578063ebefce0c1461012e578063ee48d6ef1461010b5763ef78d4fd146100eb57600080fd5b3461010757826003193601126101075760209250549051908152f35b8280fd5b50503461012a578160031936011261012a576020906005549051908152f35b5080fd5b50503461012a578160031936011261012a576020906002549051908152f35b5091903461012a578060031936011261012a576101686109ce565b9260248035917fdb9284895a7211bfd1c970298a1ed435786c5e0cd6ec4810e5f98b0ac05f463495868652602096868852858720338852885260ff868820541615610464575060018060a01b03169182865260018752848620916101d08354600254906109e4565b42106103e057600283016101e781548354906109e4565b4210156103d1575b5060018301928354986003548a101561033857828201805462015180810180911161032657421015610317575b50600382019788549661022f89896109e4565b6005541061026e57505050429055600019881461025d57505060016102589495960190556109e4565b905580f35b634e487b7160e01b87526011905285fd5b8560849383602a937fc639947fc836d7df88156de7f9ab8656c56065a1d73969fd9f657cf51b73305460608a9751858152601d868201527f4461696c79207370656e64696e67206c696d697420657863656564656400000085820152a25162461bcd60e51b8152938401528201527f526174654c696d697465723a206461696c79207370656e64696e67206c696d696044820152691d08195e18d95959195960b21b6064820152fd5b4290558860038301553861021c565b634e487b7160e01b8b5260118552858bfd5b826022856084938b8a7fc639947fc836d7df88156de7f9ab8656c56065a1d73969fd9f657cf51b733054606083518581526015868201527414195c9a5bd9081b1a5b5a5d08195e18d959591959605a1b85820152a25162461bcd60e51b8152938401528201527f526174654c696d697465723a20706572696f64206c696d697420657863656564604482015261195960f21b6064820152fd5b429055866001840155386101ef565b60196064928988877fc639947fc836d7df88156de7f9ab8656c56065a1d73969fd9f657cf51b73305460608351858152600c868201526b151bdbc8199c995c5d595b9d60a21b85820152a25162461bcd60e51b8152938401528201527f526174654c696d697465723a20746f6f206672657175656e74000000000000006044820152fd5b905060449285519263e2517d3f60e01b84523390840152820152fd5b50503461012a578160031936011261012a57602090517faf977a80e23262c8ff5f86cefbb6a4f6250c151974ee28fb039b0005ddf0d2cd8152f35b5090346101075780600319360112610107576104f591356104f060016104df6109b3565b938387528660205286200154610a81565b610b25565b5080f35b9190503461012a57602036600319011261012a576105156109ce565b61051d610a07565b60018060a01b0316928383526001602052822082815582600182015582600282015582600382015501557fe8f74cba1bb73341afa43a5e5822294322161afaddee159514d739235577da828280a280f35b5091903461012a57602036600319011261012a576001600160a01b036105926109ce565b16825260016020528082209080519260a084019084821067ffffffffffffffff83111761060d5750938160a09560809493528254948581526001840154908160208201526002850154938484830152600386015495866060840152015495869101528151958652602086015284015260608301526080820152f35b634e487b7160e01b815260418652602490fd5b50503461012a578160031936011261012a5751908152602090f35b50346101075781600319360112610107578160209360ff9261065b6109b3565b903582528186528282206001600160a01b039091168252855220549151911615158152f35b5090346101075760203660031901126101075781359161069e610a07565b82156106d65750816020917f88228e4213dc2d7be193321e06c08c2567de9b96589dc06c0da614cecf2cbea59360055551908152a180f35b6020608492519162461bcd60e51b8352820152602960248201527f526174654c696d697465723a20696e76616c6964206461696c79207370656e646044820152681a5b99c81b1a5b5a5d60ba1b6064820152fd5b5034610107576060366003190112610107578035916024356044359261074e610a07565b84156108295781156107e65783156107a35791839160609486947fb08dc25d6f70fb9b42325a265866d58941c3c44ce9a15af6977c63f048c03edc97600255826003555581519384526020840152820152a180f35b606490602084519162461bcd60e51b8352820152601b60248201527f526174654c696d697465723a20696e76616c696420706572696f6400000000006044820152fd5b606490602084519162461bcd60e51b8352820152601b60248201527f526174654c696d697465723a20696e76616c6964206d617820747800000000006044820152fd5b606490602084519162461bcd60e51b8352820152601d60248201527f526174654c696d697465723a20696e76616c6964206d696e2074696d650000006044820152fd5b5091903461012a578060031936011261012a576108876109b3565b90336001600160a01b038316036108a457506104f5919235610b25565b5163334bd91960e11b81528390fd5b5090346101075780600319360112610107576104f591356108d760016104df6109b3565b610aa7565b503461010757602036600319011261010757816020936001923581528085522001549051908152f35b50503461012a578160031936011261012a576020906003549051908152f35b50503461012a578160031936011261012a57602090517fdb9284895a7211bfd1c970298a1ed435786c5e0cd6ec4810e5f98b0ac05f46348152f35b92505034610107576020366003190112610107573563ffffffff60e01b81168091036101075760209250637965db0b60e01b81149081156109a2575b5015158152f35b6301ffc9a760e01b1490503861099b565b602435906001600160a01b03821682036109c957565b600080fd5b600435906001600160a01b03821682036109c957565b919082018092116109f157565b634e487b7160e01b600052601160045260246000fd5b3360009081527fd1cffbcb8677e3b29c52070b4a0633f7d94697ecef1ed61fbb165c4a58c54bd360205260409020547faf977a80e23262c8ff5f86cefbb6a4f6250c151974ee28fb039b0005ddf0d2cd9060ff1615610a635750565b6044906040519063e2517d3f60e01b82523360048301526024820152fd5b80600052600060205260406000203360005260205260ff6040600020541615610a635750565b9060009180835282602052604083209160018060a01b03169182845260205260ff60408420541615600014610b2057808352826020526040832082845260205260408320600160ff198254161790557f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d339380a4600190565b505090565b9060009180835282602052604083209160018060a01b03169182845260205260ff604084205416600014610b205780835282602052604083208284526020526040832060ff1981541690557ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b339380a460019056fea26469706673582212205a208caffc1dfb5e80ddb2058346fc5e01f3194942b1b9ee3ff53fbf1b94225c64736f6c634300081800332f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d",
  "deployedBytecode": "0x6080604081815260048036101561001557600080fd5b600092833560e01c90816301ffc9a71461095f575080630b90fca1146109245780631372380114610905578063248a9ca3146108dc5780632f2ff15d146108b357806336568abe1461086c5780636222f79b1461072a5780638d64007c1461068057806391d148541461063b578063a217fddf14610620578063b3ad5c9c1461056e57838163ccc51804146104f957508063d547741f146104bb578063dfe444b014610480578063e35c9e241461014d578063ebefce0c1461012e578063ee48d6ef1461010b5763ef78d4fd146100eb57600080fd5b3461010757826003193601126101075760209250549051908152f35b8280fd5b50503461012a578160031936011261012a576020906005549051908152f35b5080fd5b50503461012a578160031936011261012a576020906002549051908152f35b5091903461012a578060031936011261012a576101686109ce565b9260248035917fdb9284895a7211bfd1c970298a1ed435786c5e0cd6ec4810e5f98b0ac05f463495868652602096868852858720338852885260ff868820541615610464575060018060a01b03169182865260018752848620916101d08354600254906109e4565b42106103e057600283016101e781548354906109e4565b4210156103d1575b5060018301928354986003548a101561033857828201805462015180810180911161032657421015610317575b50600382019788549661022f89896109e4565b6005541061026e57505050429055600019881461025d57505060016102589495960190556109e4565b905580f35b634e487b7160e01b87526011905285fd5b8560849383602a937fc639947fc836d7df88156de7f9ab8656c56065a1d73969fd9f657cf51b73305460608a9751858152601d868201527f4461696c79207370656e64696e67206c696d697420657863656564656400000085820152a25162461bcd60e51b8152938401528201527f526174654c696d697465723a206461696c79207370656e64696e67206c696d696044820152691d08195e18d95959195960b21b6064820152fd5b4290558860038301553861021c565b634e487b7160e01b8b5260118552858bfd5b826022856084938b8a7fc639947fc836d7df88156de7f9ab8656c56065a1d73969fd9f657cf51b733054606083518581526015868201527414195c9a5bd9081b1a5b5a5d08195e18d959591959605a1b85820152a25162461bcd60e51b8152938401528201527f526174654c696d697465723a20706572696f64206c696d697420657863656564604482015261195960f21b6064820152fd5b429055866001840155386101ef565b60196064928988877fc639947fc836d7df88156de7f9ab8656c56065a1d73969fd9f657cf51b73305460608351858152600c868201526b151bdbc8199c995c5d595b9d60a21b85820152a25162461bcd60e51b8152938401528201527f526174654c696d697465723a20746f6f206672657175656e74000000000000006044820152fd5b905060449285519263e2517d3f60e01b84523390840152820152fd5b50503461012a578160031936011261012a57602090517faf977a80e23262c8ff5f86cefbb6a4f6250c151974ee28fb039b0005ddf0d2cd8152f35b5090346101075780600319360112610107576104f591356104f060016104df6109b3565b938387528660205286200154610a81565b610b25565b5080f35b9190503461012a57602036600319011261012a576105156109ce565b61051d610a07565b60018060a01b0316928383526001602052822082815582600182015582600282015582600382015501557fe8f74cba1bb73341afa43a5e5822294322161afaddee159514d739235577da828280a280f35b5091903461012a57602036600319011261012a576001600160a01b036105926109ce565b16825260016020528082209080519260a084019084821067ffffffffffffffff83111761060d5750938160a09560809493528254948581526001840154908160208201526002850154938484830152600386015495866060840152015495869101528151958652602086015284015260608301526080820152f35b634e487b7160e01b815260418652602490fd5b50503461012a578160031936011261012a5751908152602090f35b50346101075781600319360112610107578160209360ff9261065b6109b3565b903582528186528282206001600160a01b039091168252855220549151911615158152f35b5090346101075760203660031901126101075781359161069e610a07565b82156106d65750816020917f88228e4213dc2d7be193321e06c08c2567de9b96589dc06c0da614cecf2cbea59360055551908152a180f35b6020608492519162461bcd60e51b8352820152602960248201527f526174654c696d697465723a20696e76616c6964206461696c79207370656e646044820152681a5b99c81b1a5b5a5d60ba1b6064820152fd5b5034610107576060366003190112610107578035916024356044359261074e610a07565b84156108295781156107e65783156107a35791839160609486947fb08dc25d6f70fb9b42325a265866d58941c3c44ce9a15af6977c63f048c03edc97600255826003555581519384526020840152820152a180f35b606490602084519162461bcd60e51b8352820152601b60248201527f526174654c696d697465723a20696e76616c696420706572696f6400000000006044820152fd5b606490602084519162461bcd60e51b8352820152601b60248201527f526174654c696d697465723a20696e76616c6964206d617820747800000000006044820152fd5b606490602084519162461bcd60e51b8352820152601d60248201527f526174654c696d697465723a20696e76616c6964206d696e2074696d650000006044820152fd5b5091903461012a578060031936011261012a576108876109b3565b90336001600160a01b038316036108a457506104f5919235610b25565b5163334bd91960e11b81528390fd5b5090346101075780600319360112610107576104f591356108d760016104df6109b3565b610aa7565b503461010757602036600319011261010757816020936001923581528085522001549051908152f35b50503461012a578160031936011261012a576020906003549051908152f35b50503461012a578160031936011261012a57602090517fdb9284895a7211bfd1c970298a1ed435786c5e0cd6ec4810e5f98b0ac05f46348152f35b92505034610107576020366003190112610107573563ffffffff60e01b81168091036101075760209250637965db0b60e01b81149081156109a2575b5015158152f35b6301ffc9a760e01b1490503861099b565b602435906001600160a01b03821682036109c957565b600080fd5b600435906001600160a01b03821682036109c957565b919082018092116109f157565b634e487b7160e01b600052601160045260246000fd5b3360009081527fd1cffbcb8677e3b29c52070b4a0633f7d94697ecef1ed61fbb165c4a58c54bd360205260409020547faf977a80e23262c8ff5f86cefbb6a4f6250c151974ee28fb039b0005ddf0d2cd9060ff1615610a635750565b6044906040519063e2517d3f60e01b82523360048301526024820152fd5b80600052600060205260406000203360005260205260ff6040600020541615610a635750565b9060009180835282602052604083209160018060a01b03169182845260205260ff60408420541615600014610b2057808352826020526040832082845260205260408320600160ff198254161790557f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d339380a4600190565b505090565b9060009180835282602052604083209160018060a01b03169182845260205260ff604084205416600014610b205780835282602052604083208284526020526040832060ff1981541690557ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b339380a460019056fea26469706673582212205a208caffc1dfb5e80ddb2058346fc5e01f3194942b1b9ee3ff53fbf1b94225c64736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
